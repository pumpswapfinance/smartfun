(window.webpackJsonp=window.webpackJsonp||[]).push([["DirectPush~MyInvite~Reward"],{"2f21":function(e,t,n){"use strict";var r=n("79e5");e.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},"3c12":function(e,t,n){"use strict";n.d(t,"a",function(){return g}),n("55dd"),n("ac6a"),n("5df3");var r=n("768b"),a=(n("a481"),n("96cf"),n("3b8d")),u=n("d225"),s=n("b0b4"),i=n("51f5"),o=n.n(i),c=n("91c8"),m=n.n(c),d=n("2769"),h=n.n(d),l=n("1576"),f=n("4360"),p=n("22b3"),b=n("ab36"),g=(n("9fb0"),function(){function e(){Object(u.a)(this,e),this.instance=null,this.web3=l.a.getInstance().web3}return Object(s.a)(e,[{key:"getRecommendReWard",value:function(){var e=Object(a.a)(regeneratorRuntime.mark(function e(t){var n,r,a,u,s,i,o,c,m,d,f,g,x,v,w,_,M,y,S;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=t.replace("0x","0x000000000000000000000000"),e.next=3,p.a.eventList(l.a.getInstance().getContractAddress(b.c),0,b.w,t);case 3:n=e.sent,r=n.data.result,a=[],u=b.b[b.g],s=h()(u.abi,{type:"event",name:"RecommendReward"}),i=0;case 9:if(!(i<r.length)){e.next=32;break}if(o=[s.inputs[2],s.inputs[3],s.inputs[4],s.inputs[5]],r[i].data.length>258&&(o.push(s.inputs[6],s.inputs[7],s.inputs[8],s.inputs[9]),r[i].data="0x"+r[i].data.substr(130)),c=this.web3.eth.abi.decodeLog(o,r[i].data),m=l.a.getInstance().trim(this.web3.utils.hexToAscii(c._cause)),d=this.web3.utils.hexToNumberString(c._era),f=this.web3.utils.hexToNumberString(c._reward),g=this.web3.utils.hexToNumberString(c._balance),x=this.web3.utils.hexToNumberString(c._T),v=this.web3.utils.hexToNumberString(c._dealAmount),w=this.web3.utils.hexToNumberString(c._sfAmount),0!=f){e.next=22;break}return e.abrupt("continue",29);case 22:if(-1!=["invitation","$FP","agent","candy","XInvitation","XAgent"].indexOf(m)){e.next=24;break}return e.abrupt("continue",29);case 24:_=this.web3.utils.hexToNumberString(c._total),M=1e3*this.web3.utils.hexToNumber(r[i].timeStamp),y=r[i].transactionHash,S=r[i].topics[2].replace("0x000000000000000000000000","0x"),a.push({cause:m,era:d,reward:f,total:_,T:x,deal_amount:v,sf_amount:w,balance:g,hash:y,timestamp:M,rel_address:S});case 29:i++,e.next=9;break;case 32:return e.abrupt("return",a.reverse());case 33:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getRecommendedActive",value:function(){var e=Object(a.a)(regeneratorRuntime.mark(function e(t){var n,r,a,u,s,i,o,c,m,d,f,g,x,v,w,_;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=t.replace("0x","0x000000000000000000000000"),e.next=3,p.a.eventList(l.a.getInstance().getContractAddress(b.c),0,b.u,null,t);case 3:n=e.sent,r=n.data.result,a=[],u=b.b[b.h],delete(s=h()(u.abi,{type:"event",name:"RecommendedActiveEx"})).inputs[0],delete s.inputs[1],i=0;case 11:if(!(i<r.length)){e.next=31;break}if(o=!1,c=[s.inputs[2],s.inputs[3],s.inputs[4],s.inputs[5]],r[i].data.length>258&&(c.push(s.inputs[6]),o=!0),m=this.web3.eth.abi.decodeLog(c,r[i].data),d=l.a.getInstance().trim(this.web3.utils.hexToAscii(m._case)),-1!=["PurchaseOrder","AccOrder","CancleOrder","DealOrder","BindRecommender"].indexOf(d)){e.next=19;break}return e.abrupt("continue",28);case 19:f=this.web3.utils.hexToNumberString(m._level),g=this.web3.utils.hexToNumberString(m._orderNum),x=this.web3.utils.hexToNumberString(m._amount),"BindRecommender"==d&&(x=l.a.getInstance().trim(this.web3.utils.hexToAscii(m._amount.toHexString()))),v=1e3*this.web3.utils.hexToNumber(r[i].timeStamp),o&&this.web3.utils.hexToNumberString(m._timestamp)>0&&(v=1e3*this.web3.utils.hexToNumberString(m._timestamp)),w=r[i].transactionHash,_=r[i].topics[1].replace("0x000000000000000000000000","0x"),a.push({_case:d,level:f,order_num:g,amount:x,hash:w,timestamp:v,rel_address:_});case 28:i++,e.next=11;break;case 31:return e.abrupt("return",a.reverse());case 32:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getRewardList",value:function(){var e=Object(a.a)(regeneratorRuntime.mark(function e(t){var n,a,u,s,i,c,d,h,p,b,g,x,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.getRecommendReWard(t),this.getRecommendedActive(t)]);case 2:n=e.sent,a=Object(r.a)(n,2),u=a[0],s=a[1],i=[],c=0;case 8:if(!(c<u.length)){e.next=17;break}if(0!=u[c].cause.length){e.next=11;break}return e.abrupt("continue",14);case 11:d={timestamp:u[c].timestamp,type:"reward",amount:u[c].reward,relation:"LEVEL_"+u[c].era,order_num:0,rel_address:u[c].rel_address,note:(u[c].cause,u[c].cause.toUpperCase()+"_"+u[c].era),hash:u[c].hash,extra:{cause:u[c].cause,era:u[c].era,T:u[c].T,deal_amount:u[c].deal_amount,sf_amount:u[c].sf_amount,balance:u[c].balance}},"$FP"==u[c].cause&&2==u[c].era&&(t==d.rel_address?d.note+="_TRUE":d.note+="_FALSE"),i.push(d);case 14:c++,e.next=8;break;case 17:h=[],p=0;case 19:if(!(p<s.length)){e.next=29;break}if(!("PurchaseOrder"==s[p]._case&&f.a.state.base.order_head<s[p].order_num)){e.next=24;break}if(!(h.indexOf(s[p].order_num)>-1)){e.next=23;break}return e.abrupt("continue",26);case 23:h.push(s[p].order_num);case 24:b={timestamp:s[p].timestamp,type:s[p]._case,amount:s[p].amount,relation:"BindRecommender"==s[p]._case&&"Agent"==s[p].amount?"AGENT_LEVEL_"+s[p].level:"LEVEL_"+s[p].level,rel_address:s[p].rel_address,order_num:s[p].order_num,note:s[p]._case,hash:s[p].hash,extra:{level:s[p].level,order_wait_time:0,is_acc_alowed:!1}},i.push(b);case 26:p++,e.next=19;break;case 29:h=h.sort(function(e,t){return e-t}),g=m()(h,10),x=regeneratorRuntime.mark(function e(n){var r,a,u,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.getInstance().batchGetWaitTimes(t,g[n]);case 2:for(r=e.sent,a=r.waitTime,u=r.isAccAlowed,s=function(e){var t=l.a.getInstance().web3.utils.hexToNumberString(a[e]),r=u[e];if((t=t==f.a.state.base.max_unit?0:parseInt(t))>0)for(var s=o()(i,function(t){return"PurchaseOrder"==t.type&&t.order_num==g[n][e]&&0==t.extra.order_wait_time});s>-1;)i[s].extra.order_wait_time=t,i[s].extra.is_acc_alowed=r,s=o()(i,function(t){return"PurchaseOrder"==t.type&&t.order_num==g[n][e]&&0==t.extra.order_wait_time})},c=0;c<=g[n].length;c++)s(c);case 7:case"end":return e.stop()}},e)}),v=0;case 33:if(!(v<g.length)){e.next=38;break}return e.delegateYield(x(v),"t0",35);case 35:v++,e.next=33;break;case 38:return e.abrupt("return",i.sort(function(e,t){return t.timestamp-e.timestamp}));case 39:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getRecommendPerformance",value:function(){var e=Object(a.a)(regeneratorRuntime.mark(function e(t){var n,r,a,u,s,i,o,c,m,d,f,g,x;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=t.replace("0x","0x000000000000000000000000"),e.next=3,p.a.eventList(l.a.getInstance().getContractAddress(b.c),0,b.v,t);case 3:n=e.sent,r=n.data.result,a=[],u=b.b[b.g],delete(s=h()(u.abi,{type:"event",name:"RecommendPerformance"})).inputs[0],delete s.inputs[1],i=0;case 11:if(!(i<r.length)){e.next=25;break}if(o=this.web3.eth.abi.decodeLog(s.inputs,r[i].data),c=l.a.getInstance().trim(this.web3.utils.hexToAscii(o._cause)),0!=(m=this.web3.utils.hexToNumberString(o._performance))){e.next=17;break}return e.abrupt("continue",22);case 17:d=this.web3.utils.hexToNumberString(o._total),f=1e3*this.web3.utils.hexToNumber(r[i].timeStamp),g=r[i].transactionHash,x=r[i].topics[2].replace("0x000000000000000000000000","0x"),a.push({cause:c,performance:m,total:d,timestamp:f,hash:g,rel_address:x});case 22:i++,e.next=11;break;case 25:return e.abrupt("return",a.reverse());case 26:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(){return this.instance||(this.instance=new e),this.instance}}]),e}())},"55dd":function(e,t,n){"use strict";var r=n("5ca1"),a=n("d8e8"),u=n("4bf8"),s=n("79e5"),i=[].sort,o=[1,2,3];r(r.P+r.F*(s(function(){o.sort(void 0)})||!s(function(){o.sort(null)})||!n("2f21")(i)),"Array",{sort:function(e){return void 0===e?i.call(u(this)):i.call(u(this),a(e))}})},"91c8":function(e,t,n){var r=n("2b10"),a=n("9aff"),u=n("4b17"),s=Math.ceil,i=Math.max;e.exports=function(e,t,n){t=(n?a(e,t,n):void 0===t)?1:i(u(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var c=0,m=0,d=Array(s(o/t));c<o;)d[m++]=r(e,c,c+=t);return d}},9285:function(e,t,n){"use strict";var r={},a=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,u="\\d\\d?",s="[^\\s]+",i=/\[([^]*?)\]/gm,o=function(){};function c(e,t){for(var n=[],r=0,a=e.length;r<a;r++)n.push(e[r].substr(0,t));return n}function m(e){return function(t,n,r){var a=r[e].indexOf(n.charAt(0).toUpperCase()+n.substr(1).toLowerCase());~a&&(t.month=a)}}function d(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}var h=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],l=["January","February","March","April","May","June","July","August","September","October","November","December"],f=c(l,3),p=c(h,3);r.i18n={dayNamesShort:p,dayNames:h,monthNamesShort:f,monthNames:l,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!=10)*e%10]}};var b={D:function(e){return e.getDate()},DD:function(e){return d(e.getDate())},Do:function(e,t){return t.DoFn(e.getDate())},d:function(e){return e.getDay()},dd:function(e){return d(e.getDay())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return e.getMonth()+1},MM:function(e){return d(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},YY:function(e){return d(String(e.getFullYear()),4).substr(2)},YYYY:function(e){return d(e.getFullYear(),4)},h:function(e){return e.getHours()%12||12},hh:function(e){return d(e.getHours()%12||12)},H:function(e){return e.getHours()},HH:function(e){return d(e.getHours())},m:function(e){return e.getMinutes()},mm:function(e){return d(e.getMinutes())},s:function(e){return e.getSeconds()},ss:function(e){return d(e.getSeconds())},S:function(e){return Math.round(e.getMilliseconds()/100)},SS:function(e){return d(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return d(e.getMilliseconds(),3)},a:function(e,t){return e.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(e,t){return e.getHours()<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},ZZ:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+d(100*Math.floor(Math.abs(t)/60)+Math.abs(t)%60,4)}},g={D:[u,function(e,t){e.day=t}],Do:[u+s,function(e,t){e.day=parseInt(t,10)}],M:[u,function(e,t){e.month=t-1}],YY:[u,function(e,t){var n=+(""+(new Date).getFullYear()).substr(0,2);e.year=""+(t>68?n-1:n)+t}],h:[u,function(e,t){e.hour=t}],m:[u,function(e,t){e.minute=t}],s:[u,function(e,t){e.second=t}],YYYY:["\\d{4}",function(e,t){e.year=t}],S:["\\d",function(e,t){e.millisecond=100*t}],SS:["\\d{2}",function(e,t){e.millisecond=10*t}],SSS:["\\d{3}",function(e,t){e.millisecond=t}],d:[u,o],ddd:[s,o],MMM:[s,m("monthNamesShort")],MMMM:[s,m("monthNames")],a:[s,function(e,t,n){var r=t.toLowerCase();r===n.amPm[0]?e.isPm=!1:r===n.amPm[1]&&(e.isPm=!0)}],ZZ:["[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z",function(e,t){var n,r=(t+"").match(/([+-]|\d\d)/gi);r&&(n=60*r[1]+parseInt(r[2],10),e.timezoneOffset="+"===r[0]?n:-n)}]};g.dd=g.d,g.dddd=g.ddd,g.DD=g.D,g.mm=g.m,g.hh=g.H=g.HH=g.h,g.MM=g.M,g.ss=g.s,g.A=g.a,r.masks={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},r.format=function(e,t,n){var u=n||r.i18n;if("number"==typeof e&&(e=new Date(e)),"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))throw new Error("Invalid Date in fecha.format");t=r.masks[t]||t||r.masks.default;var s=[];return(t=(t=t.replace(i,function(e,t){return s.push(t),"@@@"})).replace(a,function(t){return t in b?b[t](e,u):t.slice(1,t.length-1)})).replace(/@@@/g,function(){return s.shift()})},r.parse=function(e,t,n){var u=n||r.i18n;if("string"!=typeof t)throw new Error("Invalid format in fecha.parse");if(t=r.masks[t]||t,e.length>1e3)return null;var s={},o=[],c=[],m=function(e){return e.replace(/[|\\{()[^$+*?.-]/g,"\\$&")}(t=t.replace(i,function(e,t){return c.push(t),"@@@"})).replace(a,function(e){if(g[e]){var t=g[e];return o.push(t[1]),"("+t[0]+")"}return e});m=m.replace(/@@@/g,function(){return c.shift()});var d=e.match(new RegExp(m,"i"));if(!d)return null;for(var h=1;h<d.length;h++)o[h-1](s,d[h],u);var l,f=new Date;return!0===s.isPm&&null!=s.hour&&12!=+s.hour?s.hour=+s.hour+12:!1===s.isPm&&12==+s.hour&&(s.hour=0),null!=s.timezoneOffset?(s.minute=+(s.minute||0)-+s.timezoneOffset,l=new Date(Date.UTC(s.year||f.getFullYear(),s.month||0,s.day||1,s.hour||0,s.minute||0,s.second||0,s.millisecond||0))):l=new Date(s.year||f.getFullYear(),s.month||0,s.day||1,s.hour||0,s.minute||0,s.second||0,s.millisecond||0),l},t.a=r},ac2e:function(e,t,n){e.exports=n.p+"img/nodata_en.7568556a.png"}}]);